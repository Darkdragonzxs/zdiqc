<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>zdiqc</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link rel="stylesheet" href="main.css">
</head>

<body>
<video id="bg-video" muted loop playsinline>
  <source src="https://cdn.jsdelivr.net/gh/Darkdragonzxs/Proxy-UV@main/bga.mp4" type="video/mp4">
</video>
<div class="overlay" id="overlay">
  <div class="click-text" onclick="startSequence()">enter</div>
</div>

<div id="main-content">
  <div class="center">
    <img src="dragon.gif" alt="zdiqc">
    <h1>zdiqc<span>network!!1</span></h1>
  </div>
  <p></p>
  <button class="side-btn" onclick="loadDocs()">documentation</button>
  <button class="side-btn" onclick="loadServices()">services</button>
</div>

<div class="side-panel" id="sidePanel">

  <div class="volume-control">
    <i id="volumeIcon" class="fa-solid fa-volume-high"></i>
    <input id="volumeSlider" type="range" min="0" max="100" value="50">
  </div>
</div>

<audio id="bg-music" src="https://cdn.jsdelivr.net/gh/Darkdragonzxs/darkdragonzxs.github.io@main/zodiac.mp3"></audio>

<script>
const video = document.getElementById("bg-video");
const audio = document.getElementById("bg-music");
const volumeSlider = document.getElementById("volumeSlider");
const volumeIcon = document.getElementById("volumeIcon");
const sidePanel = document.getElementById("sidePanel");

let lastVolume = 0.5;

function startSequence() {
  const overlay = document.getElementById("overlay");
  const main = document.getElementById("main-content");

  video.style.display = "block";
  video.currentTime = 0;
  audio.currentTime = 0;

  audio.volume = lastVolume;
  audio.loop = true;

  video.play().catch(()=>{});
  audio.play().catch(()=>{});

  requestAnimationFrame(() => {
    video.style.opacity = "1";
  });

  overlay.style.opacity = "0";

  setTimeout(() => overlay.remove(), 800);
  setTimeout(() => {
    main.style.display = "block";
    sidePanel.style.display = "flex";
  }, 1500);
}

volumeSlider.addEventListener("input", e => {
  const v = e.target.value / 100;
  audio.volume = v;
  lastVolume = v;
  audio.muted = v === 0;
  updateIcon();
});

volumeIcon.addEventListener("click", () => {
  audio.muted = !audio.muted;
  if (!audio.muted) audio.volume = lastVolume || 0.5;
  updateIcon();
});

function updateIcon() {
  volumeIcon.className =
    (audio.muted || audio.volume === 0)
      ? "fa-solid fa-volume-xmark"
      : "fa-solid fa-volume-high";
}

function loadDocs() {
  loadScript("/docs.js");
}

function loadServices() {
  loadScript("/serv.js");
}

function loadScript(src) {
  if (document.querySelector(`script[src="${src}"]`)) return;
  const s = document.createElement("script");
  s.src = src;
  document.body.appendChild(s);
}
</script>

</body>
</html>
